register:
  description: AUTH - Registration API.
  handler:
    - middlewares/bodyParser.bodyParser
    - then: middlewares/validations/auth/registrationValidation.validator
    - then: controllers/auth/register.handler
  package:
    exclude:
      - ./**
      - '!./controllers/auth/register*'
  events:
    - http:
        path: /api/register
        method: post
        cors: true

login:
  description: AUTH - Login API.
  handler:
    - middlewares/bodyParser.bodyParser
    - then: middlewares/validations/auth/loginValidation.validator
    - then: controllers/auth/login.handler
  package:
    exclude:
      - ./**
      - '!./controllers/auth/login*'
  events:
    - http:
        path: /api/login
        method: post
        cors: true

profile:
  description: AUTH - Get Profile API.
  handler:
    - middlewares/authGuard.authGuard
    - then: controllers/auth/profile.handler
  package:
    exclude:
      - ./**
      - '!./controllers/auth/profile*'
  events:
    - http:
        path: /api/profile
        method: get
        cors: true
